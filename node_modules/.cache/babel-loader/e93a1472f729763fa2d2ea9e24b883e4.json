{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/home/iftakhar.ahmed/Documents/Projects/Web/IP/ip_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/iftakhar.ahmed/Documents/Projects/Web/IP/ip_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/iftakhar.ahmed/Documents/Projects/Web/IP/ip_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/iftakhar.ahmed/Documents/Projects/Web/IP/ip_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./login.css';import{Link,Redirect}from'react-router-dom';import unknown from\"../../images/unknown.svg\";import axios from'axios';import{ADMIN_KEY,BACKEND_URL,GITHUB_REPO,PASSWORD_KEY,USERNAME_KEY}from'../../global.js';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.onChangeRegistrationNo=function(e){_this.state.credentials.registrationNumber=e.target.value;};_this.onChangePassword=function(e){_this.state.credentials.password=e.target.value;};_this.onSubmit=function(e){e.preventDefault();axios.post(BACKEND_URL+\"account/signin/\",_this.state.credentials).then(function(res){console.log(res);if(res.data.status===\"success\"){console.log('hi----------------');localStorage.setItem(USERNAME_KEY,res.data.username);localStorage.setItem(PASSWORD_KEY,res.data.password);if(res.data.is_admin){localStorage.setItem(ADMIN_KEY,\"true\");_this.props.AS(true);}_this.props.RL(true);_this.setState({redirectAddr:GITHUB_REPO+\"/home\"});}else{console.log(res.data.message);}}).catch(function(err){console.log(\"Login failed: Something went wrong\");});};_this.state={redirectAddr:null,credentials:{registrationNumber:\"\",password:\"\"}};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[this.state.redirectAddr!==null?/*#__PURE__*/_jsx(Redirect,{to:this.state.redirectAddr}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"back-groundL\",children:/*#__PURE__*/_jsx(\"marquee\",{behavior:\"alternate\",className:\"mark11L\",children:\"Welcome to Amar Ekushey Hall, University of Dhaka\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-divL\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-picL\",children:/*#__PURE__*/_jsx(\"img\",{src:unknown})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-containerL\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"labelL\",children:\" Registration Number:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",onChange:this.onChangeRegistrationNo,className:\"inputL\",placeholder:\"enter registration number\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"labelL\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",onChange:this.onChangePassword,className:\"inputL\",placeholder:\"enter password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",className:\"submitL\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"reggL\",children:[\"Don't have any account?\",/*#__PURE__*/_jsx(\"br\",{}),\" Register \",/*#__PURE__*/_jsx(Link,{to:GITHUB_REPO+'/account/signup',children:\"here.\"})]})]})})]})]});}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/home/iftakhar.ahmed/Documents/Projects/Web/IP/ip_project/src/components/accounts/login.component.jsx"],"names":["React","Component","Link","Redirect","axios","ADMIN_KEY","BACKEND_URL","GITHUB_REPO","PASSWORD_KEY","USERNAME_KEY","Login","props","onChangeRegistrationNo","e","state","credentials","registrationNumber","target","value","onChangePassword","password","onSubmit","preventDefault","post","then","res","console","log","data","status","localStorage","setItem","username","is_admin","AS","RL","setState","redirectAddr","message","catch","err","unknown"],"mappings":"wwBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,aAAP,CACA,OAAQC,IAAR,CAAaC,QAAb,KAA4B,kBAA5B,C,8CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,WAApB,CAAiCC,WAAjC,CAA8CC,YAA9C,CAA4DC,YAA5D,KAAgF,iBAAhF,C,GAGMC,CAAAA,K,8FACF,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EADe,MAUnBC,sBAVmB,CAUI,SAACC,CAAD,CAAK,CACxB,MAAKC,KAAL,CAAWC,WAAX,CAAuBC,kBAAvB,CAA0CH,CAAC,CAACI,MAAF,CAASC,KAAnD,CACH,CAZkB,OAanBC,gBAbmB,CAaF,SAACN,CAAD,CAAK,CAClB,MAAKC,KAAL,CAAWC,WAAX,CAAuBK,QAAvB,CAAgCP,CAAC,CAACI,MAAF,CAASC,KAAzC,CACH,CAfkB,OAgBnBG,QAhBmB,CAgBV,SAACR,CAAD,CAAK,CACVA,CAAC,CAACS,cAAF,GACAlB,KAAK,CAACmB,IAAN,CAAWjB,WAAW,CAAC,iBAAvB,CAAyC,MAAKQ,KAAL,CAAWC,WAApD,EACKS,IADL,CACU,SAACC,GAAD,CAAO,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,GAAGA,GAAG,CAACG,IAAJ,CAASC,MAAT,GAAkB,SAArB,CAA+B,CAC3BH,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACAG,YAAY,CAACC,OAAb,CAAqBtB,YAArB,CAAkCgB,GAAG,CAACG,IAAJ,CAASI,QAA3C,EACAF,YAAY,CAACC,OAAb,CAAqBvB,YAArB,CAAkCiB,GAAG,CAACG,IAAJ,CAASR,QAA3C,EACA,GAAGK,GAAG,CAACG,IAAJ,CAASK,QAAZ,CAAqB,CACjBH,YAAY,CAACC,OAAb,CAAqB1B,SAArB,CAA+B,MAA/B,EACA,MAAKM,KAAL,CAAWuB,EAAX,CAAc,IAAd,EACH,CACD,MAAKvB,KAAL,CAAWwB,EAAX,CAAc,IAAd,EACA,MAAKC,QAAL,CAAc,CAACC,YAAY,CAAC9B,WAAW,CAAC,OAA1B,CAAd,EACH,CAVD,IAWI,CACAmB,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASU,OAArB,EACH,CACJ,CAjBL,EAkBKC,KAlBL,CAkBW,SAAAC,GAAG,CAAE,CACRd,OAAO,CAACC,GAAR,CAAY,oCAAZ,EACH,CApBL,EAqBH,CAvCkB,CAEf,MAAKb,KAAL,CAAa,CACTuB,YAAY,CAAC,IADJ,CAETtB,WAAW,CAAC,CACRC,kBAAkB,CAAC,EADX,CAERI,QAAQ,CAAC,EAFD,CAFH,CAAb,CAFe,aASlB,C,yDA+BQ,CACL,mBACI,uBACM,KAAKN,KAAL,CAAWuB,YAAX,GAA0B,IAA3B,cAAiC,KAAC,QAAD,EAAU,EAAE,CAAE,KAAKvB,KAAL,CAAWuB,YAAzB,EAAjC,CAA0E,EAD/E,cAEI,YAAK,SAAS,CAAC,cAAf,uBACA,gBAAS,QAAQ,CAAC,WAAlB,CAA8B,SAAS,CAAC,SAAxC,+DADA,EAFJ,cAKI,aAAK,SAAS,CAAC,gBAAf,wBAEI,YAAK,SAAS,CAAC,cAAf,uBAA8B,YAAK,GAAG,CAAEI,OAAV,EAA9B,EAFJ,cAGI,YAAK,SAAS,CAAC,iBAAf,uBACI,cAAM,QAAQ,CAAE,KAAKpB,QAArB,wBACI,cAAO,SAAS,CAAC,QAAjB,mCADJ,cAEI,aAFJ,cAGI,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,MAArB,CAA4B,QAAQ,CAAE,KAAKT,sBAA3C,CAAmE,SAAS,CAAC,QAA7E,CAAsF,WAAW,CAAC,2BAAlG,EAHJ,cAII,aAJJ,cAKI,cAAO,SAAS,CAAC,QAAjB,uBALJ,cAMI,aANJ,cAOI,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,UAArB,CAAgC,QAAQ,CAAE,KAAKO,gBAA/C,CAAiE,SAAS,CAAC,QAA3E,CAAoF,WAAW,CAAC,gBAAhG,EAPJ,cAQI,aARJ,cASI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,CAAmC,SAAS,CAAC,SAA7C,EATJ,cAUI,aAVJ,cAWI,aAAK,SAAS,CAAC,OAAf,kDAA8C,aAA9C,2BAAiE,KAAC,IAAD,EAAM,EAAE,CAAEZ,WAAW,CAAC,iBAAtB,mBAAjE,GAXJ,GADJ,EAHJ,GALJ,GADJ,CA4BH,C,mBAtEeN,S,EAyEpB,cAAeS,CAAAA,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport './login.css';\nimport {Link,Redirect} from 'react-router-dom'\nimport unknown from '../../images/unknown.svg'\nimport axios from 'axios';\nimport { ADMIN_KEY, BACKEND_URL, GITHUB_REPO, PASSWORD_KEY, USERNAME_KEY } from '../../global.js';\n\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            redirectAddr:null,\n            credentials:{\n                registrationNumber:\"\",\n                password:\"\"\n            }\n        }\n    }\n    onChangeRegistrationNo=(e)=>{\n        this.state.credentials.registrationNumber=e.target.value;\n    }\n    onChangePassword=(e)=>{\n        this.state.credentials.password=e.target.value;\n    }\n    onSubmit=(e)=>{\n        e.preventDefault();\n        axios.post(BACKEND_URL+\"account/signin/\",this.state.credentials)\n            .then((res)=>{\n                console.log(res)\n                if(res.data.status===\"success\"){\n                    console.log('hi----------------')\n                    localStorage.setItem(USERNAME_KEY,res.data.username);\n                    localStorage.setItem(PASSWORD_KEY,res.data.password);\n                    if(res.data.is_admin){\n                        localStorage.setItem(ADMIN_KEY,\"true\");\n                        this.props.AS(true);\n                    }\n                    this.props.RL(true);\n                    this.setState({redirectAddr:GITHUB_REPO+\"/home\"})\n                }\n                else{\n                    console.log(res.data.message)\n                }\n            })\n            .catch(err=>{\n                console.log(\"Login failed: Something went wrong\");\n            })\n    }\n    render() { \n        return ( \n            <div>\n                {(this.state.redirectAddr!==null)?<Redirect to={this.state.redirectAddr}/>:\"\"}\n                <div className=\"back-groundL\">\n                <marquee behavior='alternate' className='mark11L'>Welcome to Amar Ekushey Hall, University of Dhaka</marquee>\n                </div>\n                <div className=\"container-divL\">\n        \n                    <div className=\"rounded-picL\"><img src={unknown}/></div>\n                    <div className=\"form-containerL\"> \n                        <form onSubmit={this.onSubmit}>\n                            <label className='labelL'> Registration Number:</label>\n                            <br/>\n                            <input required type='text' onChange={this.onChangeRegistrationNo} className='inputL' placeholder=\"enter registration number\"/>\n                            <br/>\n                            <label className=\"labelL\">Password:</label>\n                            <br/>\n                            <input required type='password' onChange={this.onChangePassword} className='inputL' placeholder=\"enter password\"/>\n                            <br/>\n                            <input type='submit' value=\"Login\" className='submitL'/>\n                            <br/>\n                            <div className=\"reggL\">Don't have any account?<br></br> Register <Link to={GITHUB_REPO+'/account/signup'}>here.</Link></div>\n                        </form>\n                    </div>\n\n                </div>\n            </div> \n        );\n    }\n}\n \nexport default Login;"]},"metadata":{},"sourceType":"module"}